<!DOCTYPE HTML>
<html lang="en">
<head>
<!-- Generated by javadoc (21) on Fri May 30 21:59:45 CEST 2025 -->
<title>BucketedHashStore (Sux4J 5.4.1)</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="dc.created" content="2025-05-30">
<meta name="description" content="declaration: package: it.unimi.dsi.sux4j.io, class: BucketedHashStore">
<meta name="generator" content="javadoc/ClassWriterImpl">
<link rel="stylesheet" type="text/css" href="../../../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../../script-dir/jquery-ui.min.css" title="Style">
<script type="text/javascript" src="../../../../../script.js"></script>
<script type="text/javascript" src="../../../../../script-dir/jquery-3.6.1.min.js"></script>
<script type="text/javascript" src="../../../../../script-dir/jquery-ui.min.js"></script>
</head>
<body class="class-declaration-page">
<script type="text/javascript">var pathtoroot = "../../../../../";
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<div class="flex-box">
<header role="banner" class="flex-header">
<nav role="navigation">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="top-nav" id="navbar-top"><button id="navbar-toggle-button" aria-controls="navbar-top" aria-expanded="false" aria-label="Toggle navigation links"><span class="nav-bar-toggle-icon">&nbsp;</span><span class="nav-bar-toggle-icon">&nbsp;</span><span class="nav-bar-toggle-icon">&nbsp;</span></button>
<div class="skip-nav"><a href="#skip-navbar-top" title="Skip navigation links">Skip navigation links</a></div>
<ul id="navbar-top-firstrow" class="nav-list" title="Navigation">
<li><a href="../../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="nav-bar-cell1-rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html#class">Help</a></li>
</ul>
<ul class="sub-nav-list-small">
<li>
<p>Summary:</p>
<ul>
<li><a href="#nested-class-summary">Nested</a></li>
<li><a href="#field-summary">Field</a></li>
<li><a href="#constructor-summary">Constr</a></li>
<li><a href="#method-summary">Method</a></li>
</ul>
</li>
<li>
<p>Detail:</p>
<ul>
<li><a href="#field-detail">Field</a></li>
<li><a href="#constructor-detail">Constr</a></li>
<li><a href="#method-detail">Method</a></li>
</ul>
</li>
</ul>
</div>
<div class="sub-nav">
<div id="navbar-sub-list">
<ul class="sub-nav-list">
<li>Summary:&nbsp;</li>
<li><a href="#nested-class-summary">Nested</a>&nbsp;|&nbsp;</li>
<li><a href="#field-summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor-summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method-summary">Method</a></li>
</ul>
<ul class="sub-nav-list">
<li>Detail:&nbsp;</li>
<li><a href="#field-detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor-detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method-detail">Method</a></li>
</ul>
</div>
<div class="nav-list-search"><a href="../../../../../search.html">SEARCH</a>
<input type="text" id="search-input" disabled placeholder="Search">
<input type="reset" id="reset-button" disabled value="reset">
</div>
</div>
<!-- ========= END OF TOP NAVBAR ========= -->
<span class="skip-nav" id="skip-navbar-top"></span></nav>
</header>
<div class="flex-content">
<main role="main">
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="sub-title"><span class="package-label-in-type">Package</span>&nbsp;<a href="package-summary.html">it.unimi.dsi.sux4j.io</a></div>
<h1 title="Class BucketedHashStore" class="title">Class BucketedHashStore&lt;T&gt;</h1>
</div>
<div class="inheritance" title="Inheritance Tree"><a href="https://docs.oracle.com/javase/9/docs/api/java/lang/Object.html" title="class or interface in java.lang" class="external-link">java.lang.Object</a>
<div class="inheritance">it.unimi.dsi.sux4j.io.BucketedHashStore&lt;T&gt;</div>
</div>
<section class="class-description" id="class-description">
<dl class="notes">
<dt>All Implemented Interfaces:</dt>
<dd><code><a href="https://dsiutils.di.unimi.it/docs/it/unimi/dsi/io/SafelyCloseable.html" title="class or interface in it.unimi.dsi.io" class="external-link">SafelyCloseable</a></code>, <code><a href="https://docs.oracle.com/javase/9/docs/api/java/io/Closeable.html" title="class or interface in java.io" class="external-link">Closeable</a></code>, <code><a href="https://docs.oracle.com/javase/9/docs/api/java/io/Serializable.html" title="class or interface in java.io" class="external-link">Serializable</a></code>, <code><a href="https://docs.oracle.com/javase/9/docs/api/java/lang/AutoCloseable.html" title="class or interface in java.lang" class="external-link">AutoCloseable</a></code>, <code><a href="https://docs.oracle.com/javase/9/docs/api/java/lang/Iterable.html" title="class or interface in java.lang" class="external-link">Iterable</a>&lt;<a href="BucketedHashStore.Bucket.html" title="class in it.unimi.dsi.sux4j.io">BucketedHashStore.Bucket</a>&gt;</code></dd>
</dl>
<hr>
<div class="type-signature"><span class="modifiers">public class </span><span class="element-name type-name-label">BucketedHashStore&lt;T&gt;</span>
<span class="extends-implements">extends <a href="https://docs.oracle.com/javase/9/docs/api/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>
implements <a href="https://docs.oracle.com/javase/9/docs/api/java/io/Serializable.html" title="class or interface in java.io" class="external-link">Serializable</a>, <a href="https://dsiutils.di.unimi.it/docs/it/unimi/dsi/io/SafelyCloseable.html" title="class or interface in it.unimi.dsi.io" class="external-link">SafelyCloseable</a>, <a href="https://docs.oracle.com/javase/9/docs/api/java/lang/Iterable.html" title="class or interface in java.lang" class="external-link">Iterable</a>&lt;<a href="BucketedHashStore.Bucket.html" title="class in it.unimi.dsi.sux4j.io">BucketedHashStore.Bucket</a>&gt;</span></div>
<div class="block">A temporary store of signatures virtually divided into buckets.

 <p>
 A bucketed hash store accumulates elements (objects of type <code>T</code>) by turning them into bit
 vectors (using a provided <a href="https://dsiutils.di.unimi.it/docs/it/unimi/dsi/bits/TransformationStrategy.html" title="class or interface in it.unimi.dsi.bits" class="external-link"><code>TransformationStrategy</code></a>) and then hashing such vectors into a
 signature (a pair of longs, i.e., overall we get a hash of 128 bits). Elements can be added
 <a href="#add(T,long)">one by one</a> or <a href="#addAll(java.util.Iterator,it.unimi.dsi.fastutil.longs.LongIterator)">in
 batches</a>. Elements must be distinct, or, more precisely, they must be transformed into distinct
 bit vectors.

 <p>
 Besides the hashes, we store some data associated with each element: if <a href="#add(T)">no data is specified</a>, we store the <em>rank</em> of each element added (the first element added
 has rank 0, the second one has rank 1, and so on), unless you specified at
 <a href="#%3Cinit%3E(it.unimi.dsi.bits.TransformationStrategy,java.io.File,int,it.unimi.dsi.logging.ProgressLogger)">construction
 time</a> a nonzero <em>hash width</em>: in that case, the value stored by <a href="#add(T)"><code>add(Object)</code></a> will
 be given the lowest bits of the first hash of the signature associated with the object (the hash
 width is the number of bits stored). This feature makes it possible, for example, to implement a
 static <a href="../mph/GOV3Function.Builder.html#dictionary(int)">dictionary</a> using a <a href="../mph/GOV3Function.html" title="class in it.unimi.dsi.sux4j.mph"><code>GOV3Function</code></a>.

 <p>
 The desired expected bucket size can be set by calling <a href="#bucketSize(int)"><code>bucketSize(int)</code></a>. Once all
 elements have been added, one calls <a href="#iterator()"><code>iterator()</code></a>, which returns buckets one at a time (in
 their natural order); signatures within each bucket are returned by increasing value, and
 signatures within different buckets are in bucket order. Actually, the iterator provided by a
 bucket returns a <em>triple</em> of longs whose last element is the data associated with the
 element that generated the signature.

 <p>
 Note that the main difference between an instance of this class and one of a
 <a href="ChunkedHashStore.html" title="class in it.unimi.dsi.sux4j.io"><code>ChunkedHashStore</code></a> is that the latter can only guarantee that the average chunk (here,
 bucket) size will be within a factor of two from the desired one, as the number of chunks can be
 specified only as a <a href="ChunkedHashStore.html#log2Chunks(int)">power of two</a>.

 <p>
 It is possible (albeit <em>very</em> unlikely) that different elements generate the same hash.
 This event is detected during bucket iteration (not while accumulating hashes), and it will throw
 a <a href="BucketedHashStore.DuplicateException.html" title="class in it.unimi.dsi.sux4j.io"><code>BucketedHashStore.DuplicateException</code></a>. At that point, the caller must handle the
 exception by <a href="#reset(long)">resetting the store</a> and trying again from scratch. Note
 that after a few (say, three) exceptions you can safely assume that there are duplicate elements.
 If you need to force a check on the whole store you can call <a href="#check()"><code>check()</code></a>. If all your
 elements come from an <a href="https://docs.oracle.com/javase/9/docs/api/java/lang/Iterable.html" title="class or interface in java.lang" class="external-link"><code>Iterable</code></a>, <a href="#checkAndRetry(java.lang.Iterable,it.unimi.dsi.fastutil.longs.LongIterable)"><code>checkAndRetry(Iterable, LongIterable)</code></a> will try
 three times to build a checked bucketed hash store.

 <p>
 Every <a href="#reset(long)"><code>reset(long)</code></a> changes the seed used by the store to generate signatures. So, if this
 seed has to be stored this must happen <em>after</em> the last call to <a href="#reset(long)"><code>reset(long)</code></a>. To
 help tracking this fact, a call to <a href="#seed()"><code>seed()</code></a> will <em>lock</em> the store; any further call
 to <a href="#reset(long)"><code>reset(long)</code></a> will throw an <a href="https://docs.oracle.com/javase/9/docs/api/java/lang/IllegalStateException.html" title="class or interface in java.lang" class="external-link"><code>IllegalStateException</code></a>. In case the store needs to
 be reused, you can call <a href="#clear()"><code>clear()</code></a>, that will bring back the store to after-creation state.

 <p>
 When you have finished using a bucketed hash store, you should <a href="#close()"><code>close()</code></a> it. This class
 implements <a href="https://dsiutils.di.unimi.it/docs/it/unimi/dsi/io/SafelyCloseable.html" title="class or interface in it.unimi.dsi.io" class="external-link"><code>SafelyCloseable</code></a>, and thus provides a safety-net finalizer.

 <h2 id="filtering-heading">Filtering</h2>

 <p>
 You can at any time <a href="#filter(org.apache.commons.collections4.Predicate)">set a predicate</a> that will filter the
 signatures returned by the store.

 <h2 id="computing-frequencies-heading">Computing frequencies</h2>

 <p>
 If you specify so
 <a href="#%3Cinit%3E(it.unimi.dsi.bits.TransformationStrategy,java.io.File,int,it.unimi.dsi.logging.ProgressLogger)">at construction
 time</a>, a bucketed hash store will compute for you a <a href="#value2FrequencyMap()">a map from
 values to their frequency</a>.

 <h2 id="implementation-details-heading">Implementation details</h2>

 <p>
 Internally, a bucketed hash store save signatures into different <em>disk segments</em> using the
 highest bits (performing, in fact, the first phase of a bucket sort). Once the user chooses a
 bucket size, the store exhibits the data on disk by grouping disk segments or splitting them into
 buckets. This process is transparent to the user.

 <p>
 The assignment to a bucket happens conceptually by using the first 64-bit hash (shifted by one to
 the right, to avoid sign issues) to define a number &alpha; in the interval [0..1). Then, the
 bucket assigned is &lfloor;&alpha;<var>m</var>&rfloor;, where <var>m</var> = 1 + <a href="#size()"><code>size()</code></a>
 / <a href="#bucketSize()"><code>bucketSize()</code></a> is the number of buckets. Conceptually, we are mapping &alpha;, a uniform
 random number in the unit interval, into &lfloor;&alpha;<var>m</var>&rfloor;, a uniform integer
 number in the range [0..<var>m</var>), by <em>inversion</em>. As show below, the whole
 computation can be carried out using a fixed-point representation, as it has been done for
 pseudorandom number generators since the early days, using only a multiplication and shift. The
 assignment is monotone nondecreasing, which makes it possible to emit the buckets one at a time
 scanning the keys in sorted order.

 <p>
 Signatures have to be loaded into memory only segment by segment, so to be sorted and tested for
 uniqueness. As long as <a href="#DISK_SEGMENTS"><code>DISK_SEGMENTS</code></a> is larger than eight, the store will need less than
 0.75 bits per element of main memory. <a href="#DISK_SEGMENTS"><code>DISK_SEGMENTS</code></a> can be increased arbitrarily at
 compile time, but each store will open <a href="#DISK_SEGMENTS"><code>DISK_SEGMENTS</code></a> files at the same time. (For the
 same reason, it is <strong>strongly</strong> suggested that you close your stores as soon as you
 do not need them).

 <h2 id="intended-usage-heading">Intended usage</h2>

 <p>
 bucketed hash stores should be built by classes that need to manipulate elements in buckets of
 approximate given size without needing access to the elements themselves, but just to their
 signatures, a typical example being <a href="../mph/GOV3Function.html" title="class in it.unimi.dsi.sux4j.mph"><code>GOV3Function</code></a>, which uses the signatures to compute a
 3-hyperedge. Once a bucketed hash store is built, it can be passed on to further substructures,
 reducing greatly the computation time (as the original collection need not to be scanned again).

 <p>
 To compute the bucket corresponding to a given element, use

 <pre>
 final long[] signature = new long[2];
 Hashes.spooky4(transform.toBitVector(key), seed, signature);
 final int bucket = Math.multiplyHigh(signature[0] &gt;&gt;&gt; 1, (1 + n / bucketSize) &lt;&lt; 1);
 </pre>

 where <code>seed</code> is the <a href="#seed()">store seed</a>, <code>n</code> is the
 <a href="#size()">number of keys</a>, and <code>bucketSize</code> is the
 <a href="#bucketSize(int)">provided bucket size</a>.</div>
<dl class="notes">
<dt>Since:</dt>
<dd>5.0.0</dd>
<dt>Author:</dt>
<dd>Sebastiano Vigna</dd>
<dt>See Also:</dt>
<dd>
<ul class="tag-list">
<li><a href="../../../../../serialized-form.html#it.unimi.dsi.sux4j.io.BucketedHashStore">Serialized Form</a></li>
</ul>
</dd>
</dl>
</section>
<section class="summary">
<ul class="summary-list">
<!-- ======== NESTED CLASS SUMMARY ======== -->
<li>
<section class="nested-class-summary" id="nested-class-summary">
<h2>Nested Class Summary</h2>
<div class="caption"><span>Nested Classes</span></div>
<div class="summary-table three-column-summary">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Class</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color"><code>static final class&nbsp;</code></div>
<div class="col-second even-row-color"><code><a href="BucketedHashStore.Bucket.html" class="type-name-link" title="class in it.unimi.dsi.sux4j.io">BucketedHashStore.Bucket</a></code></div>
<div class="col-last even-row-color">
<div class="block">A bucket returned by a <a href="BucketedHashStore.html" title="class in it.unimi.dsi.sux4j.io"><code>BucketedHashStore</code></a>.</div>
</div>
<div class="col-first odd-row-color"><code>static class&nbsp;</code></div>
<div class="col-second odd-row-color"><code><a href="BucketedHashStore.DuplicateException.html" class="type-name-link" title="class in it.unimi.dsi.sux4j.io">BucketedHashStore.DuplicateException</a></code></div>
<div class="col-last odd-row-color">
<div class="block">Denotes that the bucketed hash store contains a duplicate signature.</div>
</div>
</div>
</section>
</li>
<!-- =========== FIELD SUMMARY =========== -->
<li>
<section class="field-summary" id="field-summary">
<h2>Field Summary</h2>
<div class="caption"><span>Fields</span></div>
<div class="summary-table three-column-summary">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Field</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color"><code>static final int</code></div>
<div class="col-second even-row-color"><code><a href="#BUFFER_SIZE" class="member-name-link">BUFFER_SIZE</a></code></div>
<div class="col-last even-row-color">
<div class="block">The size of the output buffers.</div>
</div>
<div class="col-first odd-row-color"><code>static final int</code></div>
<div class="col-second odd-row-color"><code><a href="#DEFAULT_BUCKET_SIZE" class="member-name-link">DEFAULT_BUCKET_SIZE</a></code></div>
<div class="col-last odd-row-color">
<div class="block">The default size of the bucket at creation.</div>
</div>
<div class="col-first even-row-color"><code>static final int</code></div>
<div class="col-second even-row-color"><code><a href="#DISK_SEGMENTS" class="member-name-link">DISK_SEGMENTS</a></code></div>
<div class="col-last even-row-color">
<div class="block">The number of disk segments.</div>
</div>
<div class="col-first odd-row-color"><code>static final int</code></div>
<div class="col-second odd-row-color"><code><a href="#DISK_SEGMENTS_SHIFT" class="member-name-link">DISK_SEGMENTS_SHIFT</a></code></div>
<div class="col-last odd-row-color">
<div class="block">The shift for disk segments.</div>
</div>
<div class="col-first even-row-color"><code>protected long</code></div>
<div class="col-second even-row-color"><code><a href="#filteredSize" class="member-name-link">filteredSize</a></code></div>
<div class="col-last even-row-color">
<div class="block">The number of elements that pass the current filter, or -1 we it must be recomputed.</div>
</div>
<div class="col-first odd-row-color"><code>static final int</code></div>
<div class="col-second odd-row-color"><code><a href="#LOG2_DISK_SEGMENTS" class="member-name-link">LOG2_DISK_SEGMENTS</a></code></div>
<div class="col-last odd-row-color">
<div class="block">The logarithm of the number of disk segments.</div>
</div>
<div class="col-first even-row-color"><code>protected long</code></div>
<div class="col-second even-row-color"><code><a href="#seed" class="member-name-link">seed</a></code></div>
<div class="col-last even-row-color">
<div class="block">The seed used to generate the hash signatures.</div>
</div>
<div class="col-first odd-row-color"><code>static final long</code></div>
<div class="col-second odd-row-color"><code><a href="#serialVersionUID" class="member-name-link">serialVersionUID</a></code></div>
<div class="col-last odd-row-color">&nbsp;</div>
<div class="col-first even-row-color"><code>protected long</code></div>
<div class="col-second even-row-color"><code><a href="#size" class="member-name-link">size</a></code></div>
<div class="col-last even-row-color">
<div class="block">The number of elements ever <a href="#add(T)">added</a>.</div>
</div>
</div>
</section>
</li>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<li>
<section class="constructor-summary" id="constructor-summary">
<h2>Constructor Summary</h2>
<div class="caption"><span>Constructors</span></div>
<div class="summary-table two-column-summary">
<div class="table-header col-first">Constructor</div>
<div class="table-header col-last">Description</div>
<div class="col-constructor-name even-row-color"><code><a href="#%3Cinit%3E(it.unimi.dsi.bits.TransformationStrategy)" class="member-name-link">BucketedHashStore</a><wbr>(<a href="https://dsiutils.di.unimi.it/docs/it/unimi/dsi/bits/TransformationStrategy.html" title="class or interface in it.unimi.dsi.bits" class="external-link">TransformationStrategy</a>&lt;? super <a href="BucketedHashStore.html" title="type parameter in BucketedHashStore">T</a>&gt;&nbsp;transform)</code></div>
<div class="col-last even-row-color">
<div class="block">Creates a bucketed hash store with given transformation strategy.</div>
</div>
<div class="col-constructor-name odd-row-color"><code><a href="#%3Cinit%3E(it.unimi.dsi.bits.TransformationStrategy,it.unimi.dsi.logging.ProgressLogger)" class="member-name-link">BucketedHashStore</a><wbr>(<a href="https://dsiutils.di.unimi.it/docs/it/unimi/dsi/bits/TransformationStrategy.html" title="class or interface in it.unimi.dsi.bits" class="external-link">TransformationStrategy</a>&lt;? super <a href="BucketedHashStore.html" title="type parameter in BucketedHashStore">T</a>&gt;&nbsp;transform,
 <a href="https://dsiutils.di.unimi.it/docs/it/unimi/dsi/logging/ProgressLogger.html" title="class or interface in it.unimi.dsi.logging" class="external-link">ProgressLogger</a>&nbsp;pl)</code></div>
<div class="col-last odd-row-color">
<div class="block">Creates a bucketed hash store with given transformation strategy.</div>
</div>
<div class="col-constructor-name even-row-color"><code><a href="#%3Cinit%3E(it.unimi.dsi.bits.TransformationStrategy,java.io.File)" class="member-name-link">BucketedHashStore</a><wbr>(<a href="https://dsiutils.di.unimi.it/docs/it/unimi/dsi/bits/TransformationStrategy.html" title="class or interface in it.unimi.dsi.bits" class="external-link">TransformationStrategy</a>&lt;? super <a href="BucketedHashStore.html" title="type parameter in BucketedHashStore">T</a>&gt;&nbsp;transform,
 <a href="https://docs.oracle.com/javase/9/docs/api/java/io/File.html" title="class or interface in java.io" class="external-link">File</a>&nbsp;tempDir)</code></div>
<div class="col-last even-row-color">
<div class="block">Creates a bucketed hash store with given transformation strategy and temporary file directory.</div>
</div>
<div class="col-constructor-name odd-row-color"><code><a href="#%3Cinit%3E(it.unimi.dsi.bits.TransformationStrategy,java.io.File,int,it.unimi.dsi.logging.ProgressLogger)" class="member-name-link">BucketedHashStore</a><wbr>(<a href="https://dsiutils.di.unimi.it/docs/it/unimi/dsi/bits/TransformationStrategy.html" title="class or interface in it.unimi.dsi.bits" class="external-link">TransformationStrategy</a>&lt;? super <a href="BucketedHashStore.html" title="type parameter in BucketedHashStore">T</a>&gt;&nbsp;transform,
 <a href="https://docs.oracle.com/javase/9/docs/api/java/io/File.html" title="class or interface in java.io" class="external-link">File</a>&nbsp;tempDir,
 int&nbsp;hashWidthOrCountValues,
 <a href="https://dsiutils.di.unimi.it/docs/it/unimi/dsi/logging/ProgressLogger.html" title="class or interface in it.unimi.dsi.logging" class="external-link">ProgressLogger</a>&nbsp;pl)</code></div>
<div class="col-last odd-row-color">
<div class="block">Creates a bucketed hash store with given transformation strategy, hash width and progress logger.</div>
</div>
<div class="col-constructor-name even-row-color"><code><a href="#%3Cinit%3E(it.unimi.dsi.bits.TransformationStrategy,java.io.File,it.unimi.dsi.logging.ProgressLogger)" class="member-name-link">BucketedHashStore</a><wbr>(<a href="https://dsiutils.di.unimi.it/docs/it/unimi/dsi/bits/TransformationStrategy.html" title="class or interface in it.unimi.dsi.bits" class="external-link">TransformationStrategy</a>&lt;? super <a href="BucketedHashStore.html" title="type parameter in BucketedHashStore">T</a>&gt;&nbsp;transform,
 <a href="https://docs.oracle.com/javase/9/docs/api/java/io/File.html" title="class or interface in java.io" class="external-link">File</a>&nbsp;tempDir,
 <a href="https://dsiutils.di.unimi.it/docs/it/unimi/dsi/logging/ProgressLogger.html" title="class or interface in it.unimi.dsi.logging" class="external-link">ProgressLogger</a>&nbsp;pl)</code></div>
<div class="col-last even-row-color">
<div class="block">Creates a bucketed hash store with given transformation strategy and progress logger.</div>
</div>
</div>
</section>
</li>
<!-- ========== METHOD SUMMARY =========== -->
<li>
<section class="method-summary" id="method-summary">
<h2>Method Summary</h2>
<div id="method-summary-table">
<div class="table-tabs" role="tablist" aria-orientation="horizontal"><button id="method-summary-table-tab0" role="tab" aria-selected="true" aria-controls="method-summary-table.tabpanel" tabindex="0" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table', 3)" class="active-table-tab">All Methods</button><button id="method-summary-table-tab2" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab2', 3)" class="table-tab">Instance Methods</button><button id="method-summary-table-tab4" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab4', 3)" class="table-tab">Concrete Methods</button></div>
<div id="method-summary-table.tabpanel" role="tabpanel">
<div class="summary-table three-column-summary" aria-labelledby="method-summary-table-tab0">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Method</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#add(T)" class="member-name-link">add</a><wbr>(<a href="BucketedHashStore.html" title="type parameter in BucketedHashStore">T</a>&nbsp;o)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Adds an element to this store, associating it with its ordinal position.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#add(T,long)" class="member-name-link">add</a><wbr>(<a href="BucketedHashStore.html" title="type parameter in BucketedHashStore">T</a>&nbsp;o,
 long&nbsp;value)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Adds an element to this store, associating it with a specified value.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#addAll(java.util.Iterator)" class="member-name-link">addAll</a><wbr>(<a href="https://docs.oracle.com/javase/9/docs/api/java/util/Iterator.html" title="class or interface in java.util" class="external-link">Iterator</a>&lt;? extends <a href="BucketedHashStore.html" title="type parameter in BucketedHashStore">T</a>&gt;&nbsp;elements)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Adds the elements returned by an iterator to this store, associating them with their ordinal position.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#addAll(java.util.Iterator,it.unimi.dsi.fastutil.longs.LongIterator)" class="member-name-link">addAll</a><wbr>(<a href="https://docs.oracle.com/javase/9/docs/api/java/util/Iterator.html" title="class or interface in java.util" class="external-link">Iterator</a>&lt;? extends <a href="BucketedHashStore.html" title="type parameter in BucketedHashStore">T</a>&gt;&nbsp;elements,
 <a href="https://fastutil.di.unimi.it/docs/it/unimi/dsi/fastutil/longs/LongIterator.html" title="class or interface in it.unimi.dsi.fastutil.longs" class="external-link">LongIterator</a>&nbsp;values)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Adds the elements returned by an iterator to this store, associating them with specified values.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#addAll(java.util.Iterator,it.unimi.dsi.fastutil.longs.LongIterator,boolean)" class="member-name-link">addAll</a><wbr>(<a href="https://docs.oracle.com/javase/9/docs/api/java/util/Iterator.html" title="class or interface in java.util" class="external-link">Iterator</a>&lt;? extends <a href="BucketedHashStore.html" title="type parameter in BucketedHashStore">T</a>&gt;&nbsp;elements,
 <a href="https://fastutil.di.unimi.it/docs/it/unimi/dsi/fastutil/longs/LongIterator.html" title="class or interface in it.unimi.dsi.fastutil.longs" class="external-link">LongIterator</a>&nbsp;values,
 boolean&nbsp;requiresValue2CountMap)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Adds the elements returned by an iterator to this store, associating them with specified values,
 possibly building the associated value frequency map.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>int</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#bucketSize()" class="member-name-link">bucketSize</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Returns the expected bucket size.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#bucketSize(int)" class="member-name-link">bucketSize</a><wbr>(int&nbsp;bucketSize)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Sets the expected bucket size.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#check()" class="member-name-link">check</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Checks that this store has no duplicate signatures, throwing an exception if this fails to happen.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#checkAndRetry(java.lang.Iterable)" class="member-name-link">checkAndRetry</a><wbr>(<a href="https://docs.oracle.com/javase/9/docs/api/java/lang/Iterable.html" title="class or interface in java.lang" class="external-link">Iterable</a>&lt;? extends <a href="BucketedHashStore.html" title="type parameter in BucketedHashStore">T</a>&gt;&nbsp;iterable)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Checks that this store has no duplicate signatures, and try to rebuild if this fails to happen.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#checkAndRetry(java.lang.Iterable,it.unimi.dsi.fastutil.longs.LongIterable)" class="member-name-link">checkAndRetry</a><wbr>(<a href="https://docs.oracle.com/javase/9/docs/api/java/lang/Iterable.html" title="class or interface in java.lang" class="external-link">Iterable</a>&lt;? extends <a href="BucketedHashStore.html" title="type parameter in BucketedHashStore">T</a>&gt;&nbsp;iterable,
 <a href="https://fastutil.di.unimi.it/docs/it/unimi/dsi/fastutil/longs/LongIterable.html" title="class or interface in it.unimi.dsi.fastutil.longs" class="external-link">LongIterable</a>&nbsp;values)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Checks that this store has no duplicate signatures, and try to rebuild if this fails to happen.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#clear()" class="member-name-link">clear</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Clears this store.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#close()" class="member-name-link">close</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Closes this store, disposing all associated resources.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#filter(org.apache.commons.collections4.Predicate)" class="member-name-link">filter</a><wbr>(<a href="https://commons.apache.org/proper/commons-collections/javadocs/api-4.4/org/apache/commons/collections4/Predicate.html" title="class or interface in org.apache.commons.collections4" class="external-link">Predicate</a>&lt;long[]&gt;&nbsp;filter)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Sets a filter for this store.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>protected void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#finalize()" class="member-name-link">finalize</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="https://docs.oracle.com/javase/9/docs/api/java/util/Iterator.html" title="class or interface in java.util" class="external-link">Iterator</a><wbr>&lt;<a href="BucketedHashStore.Bucket.html" title="class in it.unimi.dsi.sux4j.io">BucketedHashStore.Bucket</a>&gt;</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#iterator()" class="member-name-link">iterator</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Returns an iterator over the buckets of this bucketed hash store.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#reset(long)" class="member-name-link">reset</a><wbr>(long&nbsp;seed)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Resets this store using a new seed.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>long</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#seed()" class="member-name-link">seed</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Return the current seed of this bucketed hash store.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="https://fastutil.di.unimi.it/docs/it/unimi/dsi/fastutil/longs/LongBigList.html" title="class or interface in it.unimi.dsi.fastutil.longs" class="external-link">LongBigList</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#signatures(int,it.unimi.dsi.logging.ProgressLogger)" class="member-name-link">signatures</a><wbr>(int&nbsp;signatureWidth,
 <a href="https://dsiutils.di.unimi.it/docs/it/unimi/dsi/logging/ProgressLogger.html" title="class or interface in it.unimi.dsi.logging" class="external-link">ProgressLogger</a>&nbsp;pl)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Generate a list of signatures using the lowest bits of the first hash in this store.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>long</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#size()" class="member-name-link">size</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Returns the size of this store.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="https://docs.oracle.com/javase/9/docs/api/java/io/File.html" title="class or interface in java.io" class="external-link">File</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#tempDir()" class="member-name-link">tempDir</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Return the temporary directory of this bucketed hash store, or <code>null</code>.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="https://dsiutils.di.unimi.it/docs/it/unimi/dsi/bits/TransformationStrategy.html" title="class or interface in it.unimi.dsi.bits" class="external-link">TransformationStrategy</a><wbr>&lt;? super <a href="BucketedHashStore.html" title="type parameter in BucketedHashStore">T</a>&gt;</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#transform()" class="member-name-link">transform</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Return the transformation strategy provided at construction time.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="https://fastutil.di.unimi.it/docs/it/unimi/dsi/fastutil/longs/Long2LongOpenHashMap.html" title="class or interface in it.unimi.dsi.fastutil.longs" class="external-link">Long2LongOpenHashMap</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#value2FrequencyMap()" class="member-name-link">value2FrequencyMap</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Return the current value frequency map.</div>
</div>
</div>
</div>
</div>
<div class="inherited-list">
<h3 id="methods-inherited-from-class-java.lang.Object">Methods inherited from class&nbsp;java.lang.<a href="https://docs.oracle.com/javase/9/docs/api/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a></h3>
<code><a href="https://docs.oracle.com/javase/9/docs/api/java/lang/Object.html#clone--" title="class or interface in java.lang" class="external-link">clone</a>, <a href="https://docs.oracle.com/javase/9/docs/api/java/lang/Object.html#equals-java.lang.Object-" title="class or interface in java.lang" class="external-link">equals</a>, <a href="https://docs.oracle.com/javase/9/docs/api/java/lang/Object.html#getClass--" title="class or interface in java.lang" class="external-link">getClass</a>, <a href="https://docs.oracle.com/javase/9/docs/api/java/lang/Object.html#hashCode--" title="class or interface in java.lang" class="external-link">hashCode</a>, <a href="https://docs.oracle.com/javase/9/docs/api/java/lang/Object.html#notify--" title="class or interface in java.lang" class="external-link">notify</a>, <a href="https://docs.oracle.com/javase/9/docs/api/java/lang/Object.html#notifyAll--" title="class or interface in java.lang" class="external-link">notifyAll</a>, <a href="https://docs.oracle.com/javase/9/docs/api/java/lang/Object.html#toString--" title="class or interface in java.lang" class="external-link">toString</a>, <a href="https://docs.oracle.com/javase/9/docs/api/java/lang/Object.html#wait--" title="class or interface in java.lang" class="external-link">wait</a>, <a href="https://docs.oracle.com/javase/9/docs/api/java/lang/Object.html#wait-long-" title="class or interface in java.lang" class="external-link">wait</a>, <a href="https://docs.oracle.com/javase/9/docs/api/java/lang/Object.html#wait-long-int-" title="class or interface in java.lang" class="external-link">wait</a></code></div>
<div class="inherited-list">
<h3 id="methods-inherited-from-class-java.lang.Iterable">Methods inherited from interface&nbsp;java.lang.<a href="https://docs.oracle.com/javase/9/docs/api/java/lang/Iterable.html" title="class or interface in java.lang" class="external-link">Iterable</a></h3>
<code><a href="https://docs.oracle.com/javase/9/docs/api/java/lang/Iterable.html#forEach-java.util.function.Consumer-" title="class or interface in java.lang" class="external-link">forEach</a>, <a href="https://docs.oracle.com/javase/9/docs/api/java/lang/Iterable.html#spliterator--" title="class or interface in java.lang" class="external-link">spliterator</a></code></div>
</section>
</li>
</ul>
</section>
<section class="details">
<ul class="details-list">
<!-- ============ FIELD DETAIL =========== -->
<li>
<section class="field-details" id="field-detail">
<h2>Field Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="serialVersionUID">
<h3>serialVersionUID</h3>
<div class="member-signature"><span class="modifiers">public static final</span>&nbsp;<span class="return-type">long</span>&nbsp;<span class="element-name">serialVersionUID</span></div>
<dl class="notes">
<dt>See Also:</dt>
<dd>
<ul class="tag-list">
<li><a href="../../../../../constant-values.html#it.unimi.dsi.sux4j.io.BucketedHashStore.serialVersionUID">Constant Field Values</a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="DEFAULT_BUCKET_SIZE">
<h3>DEFAULT_BUCKET_SIZE</h3>
<div class="member-signature"><span class="modifiers">public static final</span>&nbsp;<span class="return-type">int</span>&nbsp;<span class="element-name">DEFAULT_BUCKET_SIZE</span></div>
<div class="block">The default size of the bucket at creation. From Sux4J 5.2.0 it has been raised (it used to be
 one) to avoid that calls to <a href="#checkAndRetry(java.lang.Iterable)"><code>checkAndRetry(Iterable)</code></a> on a newly created
 store are too expensive.</div>
<dl class="notes">
<dt>See Also:</dt>
<dd>
<ul class="tag-list">
<li><a href="../../../../../constant-values.html#it.unimi.dsi.sux4j.io.BucketedHashStore.DEFAULT_BUCKET_SIZE">Constant Field Values</a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="BUFFER_SIZE">
<h3>BUFFER_SIZE</h3>
<div class="member-signature"><span class="modifiers">public static final</span>&nbsp;<span class="return-type">int</span>&nbsp;<span class="element-name">BUFFER_SIZE</span></div>
<div class="block">The size of the output buffers.</div>
<dl class="notes">
<dt>See Also:</dt>
<dd>
<ul class="tag-list">
<li><a href="../../../../../constant-values.html#it.unimi.dsi.sux4j.io.BucketedHashStore.BUFFER_SIZE">Constant Field Values</a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="LOG2_DISK_SEGMENTS">
<h3>LOG2_DISK_SEGMENTS</h3>
<div class="member-signature"><span class="modifiers">public static final</span>&nbsp;<span class="return-type">int</span>&nbsp;<span class="element-name">LOG2_DISK_SEGMENTS</span></div>
<div class="block">The logarithm of the number of disk segments.</div>
<dl class="notes">
<dt>See Also:</dt>
<dd>
<ul class="tag-list">
<li><a href="../../../../../constant-values.html#it.unimi.dsi.sux4j.io.BucketedHashStore.LOG2_DISK_SEGMENTS">Constant Field Values</a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="DISK_SEGMENTS">
<h3>DISK_SEGMENTS</h3>
<div class="member-signature"><span class="modifiers">public static final</span>&nbsp;<span class="return-type">int</span>&nbsp;<span class="element-name">DISK_SEGMENTS</span></div>
<div class="block">The number of disk segments.</div>
<dl class="notes">
<dt>See Also:</dt>
<dd>
<ul class="tag-list">
<li><a href="../../../../../constant-values.html#it.unimi.dsi.sux4j.io.BucketedHashStore.DISK_SEGMENTS">Constant Field Values</a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="DISK_SEGMENTS_SHIFT">
<h3>DISK_SEGMENTS_SHIFT</h3>
<div class="member-signature"><span class="modifiers">public static final</span>&nbsp;<span class="return-type">int</span>&nbsp;<span class="element-name">DISK_SEGMENTS_SHIFT</span></div>
<div class="block">The shift for disk segments.</div>
<dl class="notes">
<dt>See Also:</dt>
<dd>
<ul class="tag-list">
<li><a href="../../../../../constant-values.html#it.unimi.dsi.sux4j.io.BucketedHashStore.DISK_SEGMENTS_SHIFT">Constant Field Values</a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="size">
<h3>size</h3>
<div class="member-signature"><span class="modifiers">protected</span>&nbsp;<span class="return-type">long</span>&nbsp;<span class="element-name">size</span></div>
<div class="block">The number of elements ever <a href="#add(T)">added</a>.</div>
</section>
</li>
<li>
<section class="detail" id="filteredSize">
<h3>filteredSize</h3>
<div class="member-signature"><span class="modifiers">protected</span>&nbsp;<span class="return-type">long</span>&nbsp;<span class="element-name">filteredSize</span></div>
<div class="block">The number of elements that pass the current filter, or -1 we it must be recomputed.</div>
</section>
</li>
<li>
<section class="detail" id="seed">
<h3>seed</h3>
<div class="member-signature"><span class="modifiers">protected</span>&nbsp;<span class="return-type">long</span>&nbsp;<span class="element-name">seed</span></div>
<div class="block">The seed used to generate the hash signatures.</div>
</section>
</li>
</ul>
</section>
</li>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<li>
<section class="constructor-details" id="constructor-detail">
<h2>Constructor Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="&lt;init&gt;(it.unimi.dsi.bits.TransformationStrategy)">
<h3>BucketedHashStore</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="element-name">BucketedHashStore</span><wbr><span class="parameters">(<a href="https://dsiutils.di.unimi.it/docs/it/unimi/dsi/bits/TransformationStrategy.html" title="class or interface in it.unimi.dsi.bits" class="external-link">TransformationStrategy</a>&lt;? super <a href="BucketedHashStore.html" title="type parameter in BucketedHashStore">T</a>&gt;&nbsp;transform)</span>
                  throws <span class="exceptions"><a href="https://docs.oracle.com/javase/9/docs/api/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></span></div>
<div class="block">Creates a bucketed hash store with given transformation strategy.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>transform</code> - a transformation strategy for the elements.</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/javase/9/docs/api/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="&lt;init&gt;(it.unimi.dsi.bits.TransformationStrategy,java.io.File)">
<h3>BucketedHashStore</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="element-name">BucketedHashStore</span><wbr><span class="parameters">(<a href="https://dsiutils.di.unimi.it/docs/it/unimi/dsi/bits/TransformationStrategy.html" title="class or interface in it.unimi.dsi.bits" class="external-link">TransformationStrategy</a>&lt;? super <a href="BucketedHashStore.html" title="type parameter in BucketedHashStore">T</a>&gt;&nbsp;transform,
 <a href="https://docs.oracle.com/javase/9/docs/api/java/io/File.html" title="class or interface in java.io" class="external-link">File</a>&nbsp;tempDir)</span>
                  throws <span class="exceptions"><a href="https://docs.oracle.com/javase/9/docs/api/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></span></div>
<div class="block">Creates a bucketed hash store with given transformation strategy and temporary file directory.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>transform</code> - a transformation strategy for the elements.</dd>
<dd><code>tempDir</code> - a temporary directory for the store files, or <code>null</code> for the current directory.</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/javase/9/docs/api/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="&lt;init&gt;(it.unimi.dsi.bits.TransformationStrategy,it.unimi.dsi.logging.ProgressLogger)">
<h3>BucketedHashStore</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="element-name">BucketedHashStore</span><wbr><span class="parameters">(<a href="https://dsiutils.di.unimi.it/docs/it/unimi/dsi/bits/TransformationStrategy.html" title="class or interface in it.unimi.dsi.bits" class="external-link">TransformationStrategy</a>&lt;? super <a href="BucketedHashStore.html" title="type parameter in BucketedHashStore">T</a>&gt;&nbsp;transform,
 <a href="https://dsiutils.di.unimi.it/docs/it/unimi/dsi/logging/ProgressLogger.html" title="class or interface in it.unimi.dsi.logging" class="external-link">ProgressLogger</a>&nbsp;pl)</span>
                  throws <span class="exceptions"><a href="https://docs.oracle.com/javase/9/docs/api/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></span></div>
<div class="block">Creates a bucketed hash store with given transformation strategy.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>transform</code> - a transformation strategy for the elements.</dd>
<dd><code>pl</code> - a progress logger, or <code>null</code>.</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/javase/9/docs/api/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="&lt;init&gt;(it.unimi.dsi.bits.TransformationStrategy,java.io.File,it.unimi.dsi.logging.ProgressLogger)">
<h3>BucketedHashStore</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="element-name">BucketedHashStore</span><wbr><span class="parameters">(<a href="https://dsiutils.di.unimi.it/docs/it/unimi/dsi/bits/TransformationStrategy.html" title="class or interface in it.unimi.dsi.bits" class="external-link">TransformationStrategy</a>&lt;? super <a href="BucketedHashStore.html" title="type parameter in BucketedHashStore">T</a>&gt;&nbsp;transform,
 <a href="https://docs.oracle.com/javase/9/docs/api/java/io/File.html" title="class or interface in java.io" class="external-link">File</a>&nbsp;tempDir,
 <a href="https://dsiutils.di.unimi.it/docs/it/unimi/dsi/logging/ProgressLogger.html" title="class or interface in it.unimi.dsi.logging" class="external-link">ProgressLogger</a>&nbsp;pl)</span>
                  throws <span class="exceptions"><a href="https://docs.oracle.com/javase/9/docs/api/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></span></div>
<div class="block">Creates a bucketed hash store with given transformation strategy and progress logger.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>transform</code> - a transformation strategy for the elements.</dd>
<dd><code>tempDir</code> - a temporary directory for the store files, or <code>null</code> for the current directory.</dd>
<dd><code>pl</code> - a progress logger, or <code>null</code>.</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/javase/9/docs/api/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="&lt;init&gt;(it.unimi.dsi.bits.TransformationStrategy,java.io.File,int,it.unimi.dsi.logging.ProgressLogger)">
<h3>BucketedHashStore</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="element-name">BucketedHashStore</span><wbr><span class="parameters">(<a href="https://dsiutils.di.unimi.it/docs/it/unimi/dsi/bits/TransformationStrategy.html" title="class or interface in it.unimi.dsi.bits" class="external-link">TransformationStrategy</a>&lt;? super <a href="BucketedHashStore.html" title="type parameter in BucketedHashStore">T</a>&gt;&nbsp;transform,
 <a href="https://docs.oracle.com/javase/9/docs/api/java/io/File.html" title="class or interface in java.io" class="external-link">File</a>&nbsp;tempDir,
 int&nbsp;hashWidthOrCountValues,
 <a href="https://dsiutils.di.unimi.it/docs/it/unimi/dsi/logging/ProgressLogger.html" title="class or interface in it.unimi.dsi.logging" class="external-link">ProgressLogger</a>&nbsp;pl)</span>
                  throws <span class="exceptions"><a href="https://docs.oracle.com/javase/9/docs/api/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></span></div>
<div class="block">Creates a bucketed hash store with given transformation strategy, hash width and progress logger.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>transform</code> - a transformation strategy for the elements.</dd>
<dd><code>tempDir</code> - a temporary directory for the store files, or <code>null</code> for the current directory.</dd>
<dd><code>hashWidthOrCountValues</code> - if positive, no associated data is saved in the store: <a href="BucketedHashStore.Bucket.html#data(long)"><code>BucketedHashStore.Bucket.data(long)</code></a> will return this many lower bits
 of the first of the three hashes associated with the key; zero, values are stored; if negative, values are stored and a map from values
 to their frequency is computed.</dd>
<dd><code>pl</code> - a progress logger, or <code>null</code>.</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/javase/9/docs/api/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></code></dd>
</dl>
</section>
</li>
</ul>
</section>
</li>
<!-- ============ METHOD DETAIL ========== -->
<li>
<section class="method-details" id="method-detail">
<h2>Method Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="bucketSize()">
<h3>bucketSize</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">int</span>&nbsp;<span class="element-name">bucketSize</span>()</div>
<div class="block">Returns the expected bucket size.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>the expected bucket size.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="bucketSize(int)">
<h3>bucketSize</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">bucketSize</span><wbr><span class="parameters">(int&nbsp;bucketSize)</span></div>
<div class="block">Sets the expected bucket size.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>bucketSize</code> - the expected bucket size.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="seed()">
<h3>seed</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">long</span>&nbsp;<span class="element-name">seed</span>()</div>
<div class="block">Return the current seed of this bucketed hash store. After calling this method, no <a href="#reset(long)"><code>reset(long)</code></a> will be allowed (unless the store
 is <a href="#clear()">cleared</a>).</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>the current seed of this bucketed hash store.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="tempDir()">
<h3>tempDir</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/javase/9/docs/api/java/io/File.html" title="class or interface in java.io" class="external-link">File</a></span>&nbsp;<span class="element-name">tempDir</span>()</div>
<div class="block">Return the temporary directory of this bucketed hash store, or <code>null</code>.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>the temporary directory of this bucketed hash store, or <code>null</code>.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="transform()">
<h3>transform</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://dsiutils.di.unimi.it/docs/it/unimi/dsi/bits/TransformationStrategy.html" title="class or interface in it.unimi.dsi.bits" class="external-link">TransformationStrategy</a>&lt;? super <a href="BucketedHashStore.html" title="type parameter in BucketedHashStore">T</a>&gt;</span>&nbsp;<span class="element-name">transform</span>()</div>
<div class="block">Return the transformation strategy provided at construction time.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>the transformation strategy provided at construction time.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="add(T,long)">
<h3 id="add(java.lang.Object,long)">add</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">add</span><wbr><span class="parameters">(<a href="BucketedHashStore.html" title="type parameter in BucketedHashStore">T</a>&nbsp;o,
 long&nbsp;value)</span>
         throws <span class="exceptions"><a href="https://docs.oracle.com/javase/9/docs/api/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></span></div>
<div class="block">Adds an element to this store, associating it with a specified value.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>o</code> - the element to be added.</dd>
<dd><code>value</code> - the associated value.</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/javase/9/docs/api/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="add(T)">
<h3 id="add(java.lang.Object)">add</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">add</span><wbr><span class="parameters">(<a href="BucketedHashStore.html" title="type parameter in BucketedHashStore">T</a>&nbsp;o)</span>
         throws <span class="exceptions"><a href="https://docs.oracle.com/javase/9/docs/api/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></span></div>
<div class="block">Adds an element to this store, associating it with its ordinal position.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>o</code> - the element to be added.</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/javase/9/docs/api/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="addAll(java.util.Iterator,it.unimi.dsi.fastutil.longs.LongIterator,boolean)">
<h3>addAll</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">addAll</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/javase/9/docs/api/java/util/Iterator.html" title="class or interface in java.util" class="external-link">Iterator</a>&lt;? extends <a href="BucketedHashStore.html" title="type parameter in BucketedHashStore">T</a>&gt;&nbsp;elements,
 <a href="https://fastutil.di.unimi.it/docs/it/unimi/dsi/fastutil/longs/LongIterator.html" title="class or interface in it.unimi.dsi.fastutil.longs" class="external-link">LongIterator</a>&nbsp;values,
 boolean&nbsp;requiresValue2CountMap)</span>
            throws <span class="exceptions"><a href="https://docs.oracle.com/javase/9/docs/api/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></span></div>
<div class="block">Adds the elements returned by an iterator to this store, associating them with specified values,
 possibly building the associated value frequency map.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>elements</code> - an iterator returning elements.</dd>
<dd><code>values</code> - an iterator on values parallel to <code>elements</code>.</dd>
<dd><code>requiresValue2CountMap</code> - whether to build the value frequency map (associating with each value its frequency).</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/javase/9/docs/api/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="addAll(java.util.Iterator,it.unimi.dsi.fastutil.longs.LongIterator)">
<h3>addAll</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">addAll</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/javase/9/docs/api/java/util/Iterator.html" title="class or interface in java.util" class="external-link">Iterator</a>&lt;? extends <a href="BucketedHashStore.html" title="type parameter in BucketedHashStore">T</a>&gt;&nbsp;elements,
 <a href="https://fastutil.di.unimi.it/docs/it/unimi/dsi/fastutil/longs/LongIterator.html" title="class or interface in it.unimi.dsi.fastutil.longs" class="external-link">LongIterator</a>&nbsp;values)</span>
            throws <span class="exceptions"><a href="https://docs.oracle.com/javase/9/docs/api/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></span></div>
<div class="block">Adds the elements returned by an iterator to this store, associating them with specified values.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>elements</code> - an iterator returning elements.</dd>
<dd><code>values</code> - an iterator on values parallel to <code>elements</code>.</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/javase/9/docs/api/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="addAll(java.util.Iterator)">
<h3>addAll</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">addAll</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/javase/9/docs/api/java/util/Iterator.html" title="class or interface in java.util" class="external-link">Iterator</a>&lt;? extends <a href="BucketedHashStore.html" title="type parameter in BucketedHashStore">T</a>&gt;&nbsp;elements)</span>
            throws <span class="exceptions"><a href="https://docs.oracle.com/javase/9/docs/api/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></span></div>
<div class="block">Adds the elements returned by an iterator to this store, associating them with their ordinal position.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>elements</code> - an iterator returning elements.</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/javase/9/docs/api/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="size()">
<h3>size</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">long</span>&nbsp;<span class="element-name">size</span>()
          throws <span class="exceptions"><a href="https://docs.oracle.com/javase/9/docs/api/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></span></div>
<div class="block">Returns the size of this store. Note that if you set up
 a <a href="#filter(org.apache.commons.collections4.Predicate)">filter</a>, the first call to
 this method will require a scan to the whole store.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>the number of (possibly filtered) pairs of this store.</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/javase/9/docs/api/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="clear()">
<h3>clear</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">clear</span>()
           throws <span class="exceptions"><a href="https://docs.oracle.com/javase/9/docs/api/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></span></div>
<div class="block">Clears this store. After a call to this method, the store can be reused.</div>
<dl class="notes">
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/javase/9/docs/api/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="value2FrequencyMap()">
<h3>value2FrequencyMap</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://fastutil.di.unimi.it/docs/it/unimi/dsi/fastutil/longs/Long2LongOpenHashMap.html" title="class or interface in it.unimi.dsi.fastutil.longs" class="external-link">Long2LongOpenHashMap</a></span>&nbsp;<span class="element-name">value2FrequencyMap</span>()</div>
<div class="block">Return the current value frequency map.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>the current value frequency map.</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/javase/9/docs/api/java/lang/IllegalStateException.html" title="class or interface in java.lang" class="external-link">IllegalStateException</a></code> - if this bucketed hash store does not contain a value frequency map.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="finalize()">
<h3>finalize</h3>
<div class="member-signature"><span class="modifiers">protected</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">finalize</span>()
                 throws <span class="exceptions"><a href="https://docs.oracle.com/javase/9/docs/api/java/lang/Throwable.html" title="class or interface in java.lang" class="external-link">Throwable</a></span></div>
<dl class="notes">
<dt>Overrides:</dt>
<dd><code><a href="https://docs.oracle.com/javase/9/docs/api/java/lang/Object.html#finalize--" title="class or interface in java.lang" class="external-link">finalize</a></code>&nbsp;in class&nbsp;<code><a href="https://docs.oracle.com/javase/9/docs/api/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a></code></dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/javase/9/docs/api/java/lang/Throwable.html" title="class or interface in java.lang" class="external-link">Throwable</a></code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="close()">
<h3>close</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">close</span>()
           throws <span class="exceptions"><a href="https://docs.oracle.com/javase/9/docs/api/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></span></div>
<div class="block">Closes this store, disposing all associated resources.</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="https://docs.oracle.com/javase/9/docs/api/java/lang/AutoCloseable.html#close--" title="class or interface in java.lang" class="external-link">close</a></code>&nbsp;in interface&nbsp;<code><a href="https://docs.oracle.com/javase/9/docs/api/java/lang/AutoCloseable.html" title="class or interface in java.lang" class="external-link">AutoCloseable</a></code></dd>
<dt>Specified by:</dt>
<dd><code><a href="https://docs.oracle.com/javase/9/docs/api/java/io/Closeable.html#close--" title="class or interface in java.io" class="external-link">close</a></code>&nbsp;in interface&nbsp;<code><a href="https://docs.oracle.com/javase/9/docs/api/java/io/Closeable.html" title="class or interface in java.io" class="external-link">Closeable</a></code></dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/javase/9/docs/api/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="reset(long)">
<h3>reset</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">reset</span><wbr><span class="parameters">(long&nbsp;seed)</span>
           throws <span class="exceptions"><a href="https://docs.oracle.com/javase/9/docs/api/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></span></div>
<div class="block">Resets this store using a new seed. All accumulated data are cleared, and a new seed is reinstated.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>seed</code> - the new seed.</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/javase/9/docs/api/java/lang/IllegalStateException.html" title="class or interface in java.lang" class="external-link">IllegalStateException</a></code> - if this store was locked by a call to <a href="#seed()"><code>seed()</code></a>, and never <a href="#clear()">cleared</a> thereafter.</dd>
<dd><code><a href="https://docs.oracle.com/javase/9/docs/api/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="check()">
<h3>check</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">check</span>()
           throws <span class="exceptions"><a href="BucketedHashStore.DuplicateException.html" title="class in it.unimi.dsi.sux4j.io">BucketedHashStore.DuplicateException</a></span></div>
<div class="block">Checks that this store has no duplicate signatures, throwing an exception if this fails to happen.</div>
<dl class="notes">
<dt>Throws:</dt>
<dd><code><a href="BucketedHashStore.DuplicateException.html" title="class in it.unimi.dsi.sux4j.io">BucketedHashStore.DuplicateException</a></code> - if this store contains duplicate signatures.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="checkAndRetry(java.lang.Iterable,it.unimi.dsi.fastutil.longs.LongIterable)">
<h3>checkAndRetry</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">checkAndRetry</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/javase/9/docs/api/java/lang/Iterable.html" title="class or interface in java.lang" class="external-link">Iterable</a>&lt;? extends <a href="BucketedHashStore.html" title="type parameter in BucketedHashStore">T</a>&gt;&nbsp;iterable,
 <a href="https://fastutil.di.unimi.it/docs/it/unimi/dsi/fastutil/longs/LongIterable.html" title="class or interface in it.unimi.dsi.fastutil.longs" class="external-link">LongIterable</a>&nbsp;values)</span>
                   throws <span class="exceptions"><a href="https://docs.oracle.com/javase/9/docs/api/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></span></div>
<div class="block">Checks that this store has no duplicate signatures, and try to rebuild if this fails to happen.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>iterable</code> - the elements with which the store will be refilled if there are duplicate signatures.</dd>
<dd><code>values</code> - the values that will be associated with the elements returned by <code>iterable</code>.</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/javase/9/docs/api/java/lang/IllegalArgumentException.html" title="class or interface in java.lang" class="external-link">IllegalArgumentException</a></code> - if after a few trials the store still contains duplicate signatures.</dd>
<dd><code><a href="https://docs.oracle.com/javase/9/docs/api/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="checkAndRetry(java.lang.Iterable)">
<h3>checkAndRetry</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">checkAndRetry</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/javase/9/docs/api/java/lang/Iterable.html" title="class or interface in java.lang" class="external-link">Iterable</a>&lt;? extends <a href="BucketedHashStore.html" title="type parameter in BucketedHashStore">T</a>&gt;&nbsp;iterable)</span>
                   throws <span class="exceptions"><a href="https://docs.oracle.com/javase/9/docs/api/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></span></div>
<div class="block">Checks that this store has no duplicate signatures, and try to rebuild if this fails to happen.

 <p><strong>Warning</strong>: the actions are executed exactly in the specified order&mdash;<em>first</em>
 check, <em>then</em> retry. If you invoke this method on an empty store you'll get a checked empty store.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>iterable</code> - the elements with which the store will be refilled if there are duplicate signatures.</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/javase/9/docs/api/java/lang/IllegalArgumentException.html" title="class or interface in java.lang" class="external-link">IllegalArgumentException</a></code> - if after a few trials the store still contains duplicate signatures.</dd>
<dd><code><a href="https://docs.oracle.com/javase/9/docs/api/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="signatures(int,it.unimi.dsi.logging.ProgressLogger)">
<h3>signatures</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://fastutil.di.unimi.it/docs/it/unimi/dsi/fastutil/longs/LongBigList.html" title="class or interface in it.unimi.dsi.fastutil.longs" class="external-link">LongBigList</a></span>&nbsp;<span class="element-name">signatures</span><wbr><span class="parameters">(int&nbsp;signatureWidth,
 <a href="https://dsiutils.di.unimi.it/docs/it/unimi/dsi/logging/ProgressLogger.html" title="class or interface in it.unimi.dsi.logging" class="external-link">ProgressLogger</a>&nbsp;pl)</span>
                       throws <span class="exceptions"><a href="https://docs.oracle.com/javase/9/docs/api/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></span></div>
<div class="block">Generate a list of signatures using the lowest bits of the first hash in this store.

 <p>For this method to work, this store must contain ranks.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>signatureWidth</code> - the width in bits of the signatures.</dd>
<dd><code>pl</code> - a progress logger.</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/javase/9/docs/api/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="filter(org.apache.commons.collections4.Predicate)">
<h3>filter</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">filter</span><wbr><span class="parameters">(<a href="https://commons.apache.org/proper/commons-collections/javadocs/api-4.4/org/apache/commons/collections4/Predicate.html" title="class or interface in org.apache.commons.collections4" class="external-link">Predicate</a>&lt;long[]&gt;&nbsp;filter)</span></div>
<div class="block">Sets a filter for this store.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>filter</code> - a predicate that will be used to filter signatures.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="iterator()">
<h3>iterator</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/javase/9/docs/api/java/util/Iterator.html" title="class or interface in java.util" class="external-link">Iterator</a>&lt;<a href="BucketedHashStore.Bucket.html" title="class in it.unimi.dsi.sux4j.io">BucketedHashStore.Bucket</a>&gt;</span>&nbsp;<span class="element-name">iterator</span>()</div>
<div class="block">Returns an iterator over the buckets of this bucketed hash store.

 <p>Note that at each iteration part of the state of this bucketed hash store
 is reused. Thus, after each call to <code>next()</code> the previously returned
 <a href="BucketedHashStore.Bucket.html" title="class in it.unimi.dsi.sux4j.io"><code>BucketedHashStore.Bucket</code></a> will be no longer valid. Please use the provided
 <a href="BucketedHashStore.Bucket.html#%3Cinit%3E(it.unimi.dsi.sux4j.io.BucketedHashStore.Bucket)">copy constructor</a> if you need to process
 in parallel several buckets.</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="https://docs.oracle.com/javase/9/docs/api/java/lang/Iterable.html#iterator--" title="class or interface in java.lang" class="external-link">iterator</a></code>&nbsp;in interface&nbsp;<code><a href="https://docs.oracle.com/javase/9/docs/api/java/lang/Iterable.html" title="class or interface in java.lang" class="external-link">Iterable</a>&lt;<a href="BucketedHashStore.html" title="type parameter in BucketedHashStore">T</a>&gt;</code></dd>
<dt>Returns:</dt>
<dd>an iterator over the buckets of this bucketed hash store.</dd>
</dl>
</section>
</li>
</ul>
</section>
</li>
</ul>
</section>
<!-- ========= END OF CLASS DATA ========= -->
</main>
</div>
</div>
</body>
</html>
